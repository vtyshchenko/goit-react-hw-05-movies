{"version":3,"sources":["components/TrandingMoviesList/TrandingMoviesList.js","views/HomeView.js","views/views.module.scss","helpers/api-data.js","services/api-service.js","components/FilmPagination/FilmPagination.module.scss","components/FilmPagination/FilmPagination.js"],"names":["MoviesList","lazy","TrandingMoviesList","useState","movies","setMovies","page","setPage","total","setTotal","url","useRouteMatch","locate","useLocation","history","useHistory","useEffect","pageNumber","URLSearchParams","search","get","fetchMoviePopular","then","response","results","total_pages","searchPage","push","fallback","FilmPagination","pageTotal","HomeView","className","styles","title","module","exports","getLanguage","lang","localStorage","getItem","setItem","String","setLanguage","BASE_URL","API_KEY","LANG","fetch","json","fetchMoviesByKeyword","query","fetchMovieById","movie_id","fetchMovieByIdCredits","fetchMovieByIdReviews","Stack","spacing","Pagination","pagination","count","Number","color","onChange","e","value","searchText","searchQuery","PaginationItem","selected"],"mappings":"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","file":"static/js/home-view.6c0b1390.chunk.js","sourcesContent":["import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useRouteMatch, useLocation, useHistory } from 'react-router-dom';\n\nimport FilmPagination from '../FilmPagination';\nimport { fetchMoviePopular } from '../../services/api-service';\n\nconst MoviesList = lazy(() =>\n  import('../MovieList/MoviesList.js' /* webpackChunkName: \"movie-list\" */),\n);\n\nfunction TrandingMoviesList() {\n  const [movies, setMovies] = useState(null);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const { url } = useRouteMatch();\n  const locate = useLocation();\n  const history = useHistory();\n\n  useEffect(() => {\n    const pageNumber = new URLSearchParams(locate.search).get('page') ?? 1;\n    setPage(pageNumber ? pageNumber : 1);\n    fetchMoviePopular(pageNumber).then(response => {\n      setPage(response.page);\n      setMovies(response.results);\n      setTotal(response.total_pages);\n      const searchPage = pageNumber ? `page=${pageNumber}` : '';\n\n      history.push({ ...locate, search: `${searchPage}` });\n    });\n  }, []);\n\n  useEffect(() => {\n    fetchMoviePopular(page).then(response => setMovies(response.results));\n  }, [page]);\n\n  return movies ? (\n    <>\n      <Suspense fallback={<h1>LOADING...</h1>}>\n        <MoviesList movies={movies} locate={locate} url={`${url}movies`} />\n        <FilmPagination pageTotal={total} page={page} setPage={setPage} />\n      </Suspense>\n    </>\n  ) : (\n    <p>No films</p>\n  );\n}\n\nexport default TrandingMoviesList;\n","import TrandingMoviesList from '../components/TrandingMoviesList';\n\nimport styles from './views.module.scss';\n\nexport default function HomeView() {\n  return (\n    <>\n      <h1 className={styles.title}>Tranding today</h1>\n      <TrandingMoviesList />\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"views_link__1JgOK\",\"activeLink\":\"views_activeLink__1m2DT views_link__1JgOK\",\"isBold\":\"views_isBold__2Ydo4\",\"goBack\":\"views_goBack__1AGvj\",\"title\":\"views_title__3UpWu\",\"movieInfo\":\"views_movieInfo__1Sf4L\",\"moviePoster\":\"views_moviePoster__Znnxk\",\"movieData\":\"views_movieData__1dm-O\",\"movieTitile\":\"views_movieTitile__23JPB\",\"movieText\":\"views_movieText__yfDGx\",\"addInfo\":\"views_addInfo__KIk7R\",\"castList\":\"views_castList__C9f6w\",\"castInfo\":\"views_castInfo__1NXji\",\"castsData\":\"views_castsData__LVGft\",\"castsText\":\"views_castsText__P4rvL\",\"reviewList\":\"views_reviewList__1mPPM\",\"itemPoster\":\"views_itemPoster__ZWRgs\",\"reviewAvatar\":\"views_reviewAvatar__JWOB7\",\"reviewInfo\":\"views_reviewInfo__15omb\",\"find\":\"views_find__2Qz-s\",\"findDone\":\"views_findDone__3GeeH views_find__2Qz-s\"};","export function getData() {\n  let data = localStorage.getItem('themoviedb');\n  if (!data) {\n    return {};\n  }\n\n  try {\n    return JSON.parse(data);\n  } catch (error) {\n    console.log(`Something happened: ${error}`);\n    return {};\n  }\n}\n\n// Language\nexport function getLanguage() {\n  let lang = localStorage.getItem('language');\n  if (!lang) {\n    setLanguage('en-US');\n    return 'en-US';\n  }\n\n  return lang;\n}\n\nexport function setLanguage(lang) {\n  localStorage.setItem('language', String(lang));\n}\n","import { getLanguage } from '../helpers/api-data';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '7cb7f2a84f35ebc2678afebafcd2cb5f';\n\n// ========== Popular films\nexport function fetchMoviePopular(page) {\n  const LANG = getLanguage();\n  return fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}&language=${LANG}`,\n  ).then(response => {\n    return response.json();\n  });\n}\n\n// ========== Search by keyword\nexport function fetchMoviesByKeyword(query, page = null) {\n  const LANG = getLanguage();\n  if (!page) {\n    page = 1;\n  }\n  return fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&language=${LANG}&page=${page}&include_adult=false`,\n  ).then(response => response.json());\n}\n\n// ========== Film id\nexport function fetchMovieById(movie_id) {\n  const LANG = getLanguage();\n  return fetch(\n    `${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}&language=${LANG}`,\n  ).then(response => response.json());\n}\n\n// ========== Film actors\nexport function fetchMovieByIdCredits(movie_id) {\n  const LANG = getLanguage();\n  return fetch(\n    `${BASE_URL}/movie/${movie_id}/credits?api_key=${API_KEY}&language=${LANG}`,\n  ).then(response => response.json());\n}\n\n// ========== Film reviews\nexport function fetchMovieByIdReviews(movie_id, page) {\n  const LANG = getLanguage();\n  if (!page) {\n    page = 1;\n  }\n  return fetch(\n    `${BASE_URL}/movie/${movie_id}/reviews?api_key=${API_KEY}&page=${page}&language=${LANG}`,\n  ).then(response => response.json());\n}\n\n// ========== Genres\nexport function fetchMovieGenres() {\n  const LANG = getLanguage();\n\n  return fetch(\n    `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=${LANG}`,\n  )\n    .then(response => response.json())\n    .catch(console.log);\n}\n\nexport const themoviedb = {\n  user: 'mamay.ukr',\n  password: 'mamay.ukr',\n  email: 'mamay.ukr.1977@gmail.com',\n  keyV3Auth: '7cb7f2a84f35ebc2678afebafcd2cb5f',\n  keyV4Auth:\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3Y2I3ZjJhODRmMzVlYmMyNjc4YWZlYmFmY2QyY2I1ZiIsInN1YiI6IjYxODZlMGM1YzVjMWVmMDAyYzI3NWE1OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Pgpe2ZFsuuwD752NaRWkXNGvN6Y_7zSj-ucISFoCXyM',\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"FilmPagination_pagination__CsGpN\"};","import { Pagination, Stack, PaginationItem } from '@mui/material';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './FilmPagination.module.scss';\n\nexport default function FilmPagination({ pageTotal, page, setPage }) {\n  const locate = useLocation();\n  const history = useHistory();\n  if (!page) {\n    page = 1;\n  }\n\n  const hendlerSubmit = (e, value) => {\n    setPage(value);\n    const searchText = new URLSearchParams(locate.search).get('query');\n    let searchQuery = searchText ? `query=${searchText}` : '';\n    const searchPage = value ? `page=${value}` : '';\n    searchQuery = searchQuery\n      ? searchPage && `${searchQuery}&${searchPage}`\n      : searchPage && `${searchPage}`;\n    history.push({ ...locate, search: `${searchQuery}` });\n  };\n\n  return (\n    <>\n      <Stack spacing={2}>\n        <Pagination\n          className={styles.pagination}\n          count={pageTotal}\n          page={Number(page)}\n          color={'primary'}\n          onChange={hendlerSubmit}\n        >\n          <PaginationItem selected={true} /> ;\n        </Pagination>\n      </Stack>\n      ;\n    </>\n  );\n}\n\nFilmPagination.propTypes = {\n  pageTotal: PropTypes.number.isRequired,\n  page: PropTypes.number,\n  setPage: PropTypes.func.isRequired,\n};\n"],"sourceRoot":""}